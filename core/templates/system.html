<!DOCTYPE html>
<html>
<head>
    <title>System {{ system.name }}</title>
    <script>
        function fetchUpdates() {
            fetch("/system/{{ system.id }}/json")
                .then(res => res.json())
                .then(data => {
                    document.getElementById("cpu").innerText = data.cpu.usage_pct + "%";
                    document.getElementById("mem").innerText = data.memory.used_gib + " GiB";
                    document.getElementById("last").innerText = data.last_seen;
                });
        }

        setInterval(fetchUpdates, 5000);
        window.onload = fetchUpdates;
    </script>
</head>
<body>
    <h1>System: {{ system.name }}</h1>
    <p><strong>CPU Usage:</strong> <span id="cpu"></span></p>
    <p><strong>Memory Used:</strong> <span id="mem"></span></p>
    <p><strong>Last Seen:</strong> <span id="last"></span></p>
</body>
</html>
